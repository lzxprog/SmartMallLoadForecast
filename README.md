# SmartMallLoadForecast

ğŸ¯ **é¡¹ç›®åç§°ï¼š** åŸºäº XGBoost çš„å•†ä¸šå»ºç­‘ç”¨ç”µè´Ÿè·é¢„æµ‹ç³»ç»Ÿ  
ğŸ“ **æ¡ˆä¾‹èƒŒæ™¯ï¼š** ä»¥ä¸œéƒ¨æŸå¤§å‹å•†åœº 2024 å¹´å…¨å¹´çš„ç”¨ç”µæ•°æ®ä¸ºç ”ç©¶å¯¹è±¡

## ğŸ“˜ é¡¹ç›®ç®€ä»‹

æœ¬é¡¹ç›®æ—¨åœ¨æ„å»ºä¸€ä¸ªé«˜æ•ˆã€å®ç”¨çš„ç”µåŠ›è´Ÿè·é¢„æµ‹ç³»ç»Ÿï¼Œç»“åˆæ»‘åŠ¨çª—å£æ³•ã€èŠ‚å‡æ—¥ä¸å¤©æ°”ç‰¹å¾å·¥ç¨‹ï¼Œä»¥åŠ XGBoost å›å½’æ¨¡å‹ï¼Œå®ç°å¯¹å•†ä¸šå»ºç­‘çš„çŸ­æœŸç”¨ç”µé‡é¢„æµ‹ã€‚

**ä¸»è¦åŠŸèƒ½åŒ…æ‹¬ï¼š**
- â±ï¸ æ•°æ®é¢„å¤„ç†ä¸èŠ‚å‡æ—¥æ ‡è®°
- â˜ï¸ è‡ªåŠ¨ä¸‹è½½å¹¶ç¼“å­˜å½“åœ°å†å²å¤©æ°”æ•°æ®ï¼ˆæ¸©åº¦ã€æ¹¿åº¦ã€å¤©æ°”ä»£ç ï¼‰
- ğŸ§  ç‰¹å¾å·¥ç¨‹ï¼šæ»åè´Ÿè·ã€æ—¶é—´å˜é‡ã€å¤©æ°”ã€èŠ‚å‡æ—¥ç‰¹å¾
- ğŸ§ª æ»šåŠ¨è®­ç»ƒæ¨¡æ‹Ÿéƒ¨ç½²é¢„æµ‹åœºæ™¯
- ğŸ“ˆ è¯¯å·®è¯„ä¼°ä¸å¤šç§å›¾è¡¨å¯è§†åŒ–è¾“å‡º
- ğŸ“¦ æ¨¡å‹ä¿å­˜ä¸äºŒæ¬¡åŠ è½½

## ğŸ—‚ï¸ é¡¹ç›®ç»“æ„
````
SmartMallLoadForecast/
â”œâ”€â”€ data/                  # åŸå§‹æ•°æ®ä¸å¤„ç†ç»“æœ
â”‚   â”œâ”€â”€ data.xlsx          # åŸå§‹ç”¨ç”µæ•°æ®ï¼ˆæ¯15åˆ†é’Ÿï¼‰
â”‚   â”œâ”€â”€ weather\_cache.csv  # ç¼“å­˜çš„å¤©æ°”æ•°æ®
â”‚   â”œâ”€â”€ processed\_data.csv # åˆå¹¶åçš„ç‰¹å¾æ•°æ®
â”‚   â””â”€â”€ samples/           # æ„é€ å¥½çš„è®­ç»ƒæ ·æœ¬
â”‚
â”œâ”€â”€ src/                   # æ ¸å¿ƒæºä»£ç 
â”‚   â”œâ”€â”€ data\_processing.py      # æ•°æ®åŠ è½½ã€èŠ‚å‡æ—¥æ ‡è®°ä¸å¤©æ°”ä¸‹è½½
â”‚   â”œâ”€â”€ feature\_engineering.py  # ç‰¹å¾å·¥ç¨‹æ¨¡å—
â”‚   â”œâ”€â”€ model\_train.py          # è®­ç»ƒä¸è¯„ä¼°æ¨¡å‹
â”‚   â””â”€â”€ visualize.py            # å¯è§†åŒ–æ¨¡å—
â”‚
â”œâ”€â”€ data/results/          # è¾“å‡ºå›¾è¡¨ä¸æ¨¡å‹
â”‚   â”œâ”€â”€ \*.png              # å›¾åƒè¾“å‡º
â”‚   â””â”€â”€ xgb\_model.joblib   # è®­ç»ƒå¥½çš„æ¨¡å‹
â”‚
â”œâ”€â”€ main.py                # ä¸»ç¨‹åºå…¥å£
â”œâ”€â”€ environment.yml        # Conda ç¯å¢ƒé…ç½®
â”œâ”€â”€ .gitignore             # å¿½ç•¥è§„åˆ™ï¼ˆå¿½ç•¥ data/ï¼‰
â””â”€â”€ README.md              # é¡¹ç›®è¯´æ˜

````

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1ï¸âƒ£ åˆ›å»º Conda ç¯å¢ƒå¹¶å®‰è£…ä¾èµ–

```bash
conda env create -f environment.yml
conda activate SmartMallLoadForecast
````

### 2ï¸âƒ£ å‡†å¤‡æ•°æ®

å°†åŸå§‹ç”¨ç”µæ•°æ®ï¼ˆåŒ…å« `time_15min` å’Œ `val` åˆ—ï¼‰æ”¾å…¥ `data/data.xlsx`

### 3ï¸âƒ£ è¿è¡Œä¸»ç¨‹åº

```bash
python main.py
```

è¿è¡Œç»“æŸåï¼Œå°†è‡ªåŠ¨è¾“å‡ºä»¥ä¸‹å†…å®¹ï¼š

* å¤„ç†åæ•°æ®ï¼š`data/processed_data.csv`
* æ»åæ ·æœ¬æ•°æ®ï¼š`data/samples/samples.csv`
* æ¨¡å‹ä¸è¯„ä¼°å›¾ï¼š`data/results/*.png`

---

## ğŸ“Š é¢„æµ‹æ•ˆæœå±•ç¤º

* MAEï¼šå¹³å‡ç»å¯¹è¯¯å·®
* RMSEï¼šå‡æ–¹æ ¹è¯¯å·®
* å›¾è¡¨åŒ…æ‹¬ï¼š

  * å®é™… vs é¢„æµ‹ æŠ˜çº¿å›¾
  * æ•£ç‚¹æ‹Ÿåˆå›¾
  * ç‰¹å¾é‡è¦æ€§æ¡å½¢å›¾

---

## ğŸ“š æ¨¡å‹ä¸æ–¹æ³•è¯´æ˜

* **ç®—æ³•é€‰æ‹©ï¼š** XGBoost å›å½’æ¨¡å‹
* **ç‰¹å¾æ„å»ºï¼š**

  * æ»åè´Ÿè·å€¼ï¼ˆæ»‘åŠ¨çª—å£ï¼‰
  * å°æ—¶ã€æ˜ŸæœŸã€æ˜¯å¦èŠ‚å‡æ—¥
  * å¤©æ°”ï¼šæ¸©åº¦ã€æ¹¿åº¦ã€å¤©æ°”ä»£ç 
* **è¯„ä¼°ç­–ç•¥ï¼š** æ»šåŠ¨é¢„æµ‹æ¨¡æ‹Ÿå®é™…åœºæ™¯ï¼Œè¯„ä¼°æ³›åŒ–èƒ½åŠ›

---

## ğŸ”— ä¾èµ–è¯´æ˜ï¼ˆèŠ‚é€‰ï¼‰

* Python >= 3.9
* pandas, numpy, matplotlib, seaborn
* xgboost, scikit-learn
* openpyxlï¼ˆç”¨äºè¯»å– Excelï¼‰
* requestsï¼ˆç”¨äºå¤©æ°”æŸ¥è¯¢ï¼‰

å®Œæ•´ä¾èµ–è¯·æŸ¥çœ‹ [`environment.yml`](./environment.yml)

```